{4|apiVersion:"2.0" kind:"Deployment" metadata:{3|name:"web-server" namespace:"production" labels:{3|app:"web" tier:"frontend" environment:"production"}} spec:{3|replicas:3 selector:{1|matchLabels:{2|app:"web" tier:"frontend"}} template:{2|metadata:{1|labels:{3|app:"web" tier:"frontend" version:"1.2.3"}} spec:{1|containers:[2|{5|name:"nginx" image:"nginx:1.21" ports:[2|{2|containerPort:80 protocol:"TCP"} {2|containerPort:443 protocol:"TCP"}] resources:{2|requests:{2|cpu:"100m" memory:"128Mi"} limits:{2|cpu:"500m" memory:"512Mi"}} env:[3|{2|name:"NODE_ENV" value:"production"} {2|name:"LOG_LEVEL" value:"info"} {2|name:"MAX_CONNECTIONS" value:"1000"}]} {4|name:"sidecar" image:"envoy:1.20" ports:[1|{2|containerPort:8080 protocol:"TCP"}] resources:{2|requests:{2|cpu:"50m" memory:"64Mi"} limits:{2|cpu:"200m" memory:"256Mi"}}}]}}}}
