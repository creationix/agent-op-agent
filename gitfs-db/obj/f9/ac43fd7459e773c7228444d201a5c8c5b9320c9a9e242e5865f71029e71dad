{"type":"text","lines":["// App Launcher - Demo mode controls","(function() {","  'use strict';","  ","  const apps = [","    { name: 'Encantis IDE', url: 'encantis-ide/' },","    { name: 'D2 Playground', url: 'd2-playground/' },","    { name: 'N2 Playground', url: 'n2-playground/' },","    { name: 'JSONito Playground', url: 'jsonito-playground/' },","    { name: 'Nibs Playground', url: 'nibs-playground/' },","    { name: 'Jot Playground', url: 'jot-playground/' }","  ];","  ","  let demoMode = false;","  let demoTimeout = null;","  let countdownInterval = null;","  ","  function toggleDemo() {","    demoMode = !demoMode;","    const btn = document.getElementById('demo-btn');","    const status = document.getElementById('demo-status');","    ","    if (demoMode) {","      btn.textContent = '⏹ Stop Demo Mode';","      btn.classList.add('active');","      status.textContent = 'Demo starting...';","      sessionStorage.setItem('demoMode', 'true');","      startCountdown(5, navigateToRandomApp);","    } else {","      stopDemo();","    }","  }","  ","  function stopDemo() {","    demoMode = false;","    const btn = document.getElementById('demo-btn');","    const status = document.getElementById('demo-status');","    const countdown = document.getElementById('countdown');","    ","    btn.textContent = '▶ Start Demo Mode';","    btn.classList.remove('active');","    status.textContent = 'Demo stopped';","    countdown.textContent = '';","    sessionStorage.removeItem('demoMode');","    sessionStorage.removeItem('currentApp');","    ","    if (demoTimeout) clearTimeout(demoTimeout);","    if (countdownInterval) clearInterval(countdownInterval);","    ","    document.querySelectorAll('.card').forEach(c => c.classList.remove('demo-highlight'));","  }","  ","  function startCountdown(seconds, callback) {","    const countdown = document.getElementById('countdown');","    let remaining = seconds;","    ","    countdown.textContent = remaining;","    ","    if (countdownInterval) clearInterval(countdownInterval);","    countdownInterval = setInterval(() => {","      remaining--;","      if (remaining > 0) {","        countdown.textContent = remaining;","      } else {","        countdown.textContent = '';","        clearInterval(countdownInterval);","        if (demoMode) callback();","      }","    }, 1000);","  }","  ","  function navigateToRandomApp() {","    if (!demoMode) return;","    ","    const status = document.getElementById('demo-status');","    const randomApp = apps[Math.floor(Math.random() * apps.length)];","    ","    document.querySelectorAll('.card').forEach(c => c.classList.remove('demo-highlight'));","    const card = document.querySelector(`[href=\"${randomApp.url}\"]`);","    if (card) card.classList.add('demo-highlight');","    ","    status.textContent = `Opening ${randomApp.name}...`;","    sessionStorage.setItem('currentApp', JSON.stringify(randomApp));","    ","    demoTimeout = setTimeout(() => {","      if (demoMode) {","        window.location.href = randomApp.url;","      }","    }, 1500);","  }","  ","  // Check if returning from demo","  window.addEventListener('load', () => {","    const isDemo = sessionStorage.getItem('demoMode') === 'true';","    ","    if (isDemo) {","      demoMode = true;","      const btn = document.getElementById('demo-btn');","      const status = document.getElementById('demo-status');","      btn.textContent = '⏹ Stop Demo Mode';","      btn.classList.add('active');","      status.textContent = 'Demo mode active';","      startCountdown(5, navigateToRandomApp);","    }","  });","  ","  // Expose for button onclick","  window.toggleDemo = toggleDemo;","  window.demoMode = {","    start: () => { if (!demoMode) toggleDemo(); },","    stop: () => { if (demoMode) toggleDemo(); },","    isActive: () => demoMode","  };","})();",""]}