{"type":"text","lines":["<!DOCTYPE html>","<!-- Draw App - Canvas drawing with color picker and brush sizes -->","<html lang=\"en\">","<head>","  <meta charset=\"UTF-8\">","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","  <title>Draw - Git-FS Canvas</title>","  <style>","    * { margin: 0; padding: 0; box-sizing: border-box; }","    ","    body {","      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;","      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);","      min-height: 100vh;","      display: flex;","      flex-direction: column;","      align-items: center;","      padding: 20px;","      color: #e0e0e0;","    }","    ","    h1 {","      color: #a78bfa;","      margin-bottom: 8px;","      font-size: 2rem;","    }","    ","    .subtitle {","      color: #888;","      margin-bottom: 20px;","    }","    ","    .container {","      display: flex;","      gap: 20px;","      flex-wrap: wrap;","      justify-content: center;","    }","    ","    .canvas-wrapper {","      background: #0f0f1a;","      border-radius: 12px;","      padding: 12px;","      box-shadow: 0 8px 32px rgba(0,0,0,0.3);","    }","    ","    canvas {","      border-radius: 8px;","      cursor: crosshair;","      display: block;","      background: #ffffff;","    }","    ","    .toolbar {","      background: rgba(15, 15, 26, 0.9);","      border-radius: 12px;","      padding: 20px;","      display: flex;","      flex-direction: column;","      gap: 20px;","      min-width: 200px;","      box-shadow: 0 8px 32px rgba(0,0,0,0.3);","    }","    ","    .tool-group {","      display: flex;","      flex-direction: column;","      gap: 8px;","    }","    ","    .tool-group label {","      font-size: 0.85rem;","      color: #888;","      text-transform: uppercase;","      letter-spacing: 0.5px;","    }","    ","    .color-picker {","      display: flex;","      gap: 8px;","      flex-wrap: wrap;","    }","    ","    .color-btn {","      width: 32px;","      height: 32px;","      border-radius: 50%;","      border: 2px solid transparent;","      cursor: pointer;","      transition: transform 0.15s, border-color 0.15s;","    }","    ","    .color-btn:hover {","      transform: scale(1.1);","    }","    ","    .color-btn.active {","      border-color: #a78bfa;","      box-shadow: 0 0 8px rgba(167, 139, 250, 0.5);","    }","    ","    .custom-color {","      width: 32px;","      height: 32px;","      border-radius: 50%;","      border: none;","      cursor: pointer;","      background: conic-gradient(red, yellow, lime, aqua, blue, magenta, red);","    }","    ","    input[type=\"range\"] {","      width: 100%;","      height: 6px;","      border-radius: 3px;","      background: #2a2a4a;","      outline: none;","      -webkit-appearance: none;","    }","    ","    input[type=\"range\"]::-webkit-slider-thumb {","      -webkit-appearance: none;","      width: 18px;","      height: 18px;","      border-radius: 50%;","      background: #a78bfa;","      cursor: pointer;","      box-shadow: 0 2px 6px rgba(0,0,0,0.3);","    }","    ","    .size-preview {","      display: flex;","      align-items: center;","      justify-content: center;","      height: 40px;","    }","    ","    .size-dot {","      background: #a78bfa;","      border-radius: 50%;","      transition: width 0.1s, height 0.1s;","    }","    ","    .buttons {","      display: flex;","      flex-direction: column;","      gap: 10px;","    }","    ","    button {","      padding: 12px 20px;","      border: none;","      border-radius: 8px;","      font-size: 0.95rem;","      cursor: pointer;","      transition: transform 0.15s, box-shadow 0.15s;","      font-weight: 500;","    }","    ","    button:hover {","      transform: translateY(-2px);","    }","    ","    .btn-clear {","      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);","      color: white;","    }","    ","    .btn-undo {","      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);","      color: white;","    }","    ","    .btn-download {","      background: linear-gradient(135deg, #10b981 0%, #059669 100%);","      color: white;","    }","    ","    .tool-modes {","      display: flex;","      gap: 8px;","    }","    ","    .mode-btn {","      flex: 1;","      padding: 10px;","      background: #2a2a4a;","      color: #888;","    }","    ","    .mode-btn.active {","      background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);","      color: white;","    }","    ","    .status {","      margin-top: 20px;","      padding: 10px 20px;","      background: rgba(15, 15, 26, 0.9);","      border-radius: 8px;","      font-size: 0.85rem;","      color: #888;","    }","  </style>","</head>","<body>","  <h1>üé® Draw</h1>","  <p class=\"subtitle\">A simple canvas for creative expression</p>","  ","  <div class=\"container\">","    <div class=\"canvas-wrapper\">","      <canvas id=\"canvas\" width=\"600\" height=\"450\"></canvas>","    </div>","    ","    <div class=\"toolbar\">","      <div class=\"tool-group\">","        <label>Tool</label>","        <div class=\"tool-modes\">","          <button class=\"mode-btn active\" data-mode=\"draw\">‚úèÔ∏è Draw</button>","          <button class=\"mode-btn\" data-mode=\"erase\">üßπ Erase</button>","        </div>","      </div>","      ","      <div class=\"tool-group\">","        <label>Color</label>","        <div class=\"color-picker\">","          <button class=\"color-btn active\" style=\"background: #000000\" data-color=\"#000000\"></button>","          <button class=\"color-btn\" style=\"background: #ef4444\" data-color=\"#ef4444\"></button>","          <button class=\"color-btn\" style=\"background: #f97316\" data-color=\"#f97316\"></button>","          <button class=\"color-btn\" style=\"background: #eab308\" data-color=\"#eab308\"></button>","          <button class=\"color-btn\" style=\"background: #22c55e\" data-color=\"#22c55e\"></button>","          <button class=\"color-btn\" style=\"background: #3b82f6\" data-color=\"#3b82f6\"></button>","          <button class=\"color-btn\" style=\"background: #8b5cf6\" data-color=\"#8b5cf6\"></button>","          <button class=\"color-btn\" style=\"background: #ec4899\" data-color=\"#ec4899\"></button>","          <input type=\"color\" class=\"custom-color\" id=\"customColor\" value=\"#a78bfa\">","        </div>","      </div>","      ","      <div class=\"tool-group\">","        <label>Brush Size: <span id=\"sizeValue\">8</span>px</label>","        <input type=\"range\" id=\"brushSize\" min=\"1\" max=\"50\" value=\"8\">","        <div class=\"size-preview\">","          <div class=\"size-dot\" id=\"sizeDot\"></div>","        </div>","      </div>","      ","      <div class=\"buttons\">","        <button class=\"btn-undo\" id=\"undoBtn\">‚Ü©Ô∏è Undo</button>","        <button class=\"btn-clear\" id=\"clearBtn\">üóëÔ∏è Clear</button>","        <button class=\"btn-download\" id=\"downloadBtn\">üíæ Save PNG</button>","      </div>","    </div>","  </div>","  ","  <div class=\"status\" id=\"status\">Ready to draw!</div>","","  <script>","    const canvas = document.getElementById('canvas');","    const ctx = canvas.getContext('2d');","    const status = document.getElementById('status');","    ","    // State","    let isDrawing = false;","    let currentColor = '#000000';","    let brushSize = 8;","    let mode = 'draw';","    let history = [];","    let lastX, lastY;","    ","    // Initialize canvas","    ctx.fillStyle = '#ffffff';","    ctx.fillRect(0, 0, canvas.width, canvas.height);","    saveState();","    ","    // Save canvas state for undo","    function saveState() {","      history.push(canvas.toDataURL());","      if (history.length > 50) history.shift();","    }","    ","    // Drawing functions","    function startDrawing(e) {","      isDrawing = true;","      [lastX, lastY] = getPos(e);","      ctx.beginPath();","      ctx.moveTo(lastX, lastY);","    }","    ","    function draw(e) {","      if (!isDrawing) return;","      ","      const [x, y] = getPos(e);","      ","      ctx.lineWidth = brushSize;","      ctx.lineCap = 'round';","      ctx.lineJoin = 'round';","      ","      if (mode === 'erase') {","        ctx.strokeStyle = '#ffffff';","      } else {","        ctx.strokeStyle = currentColor;","      }","      ","      ctx.lineTo(x, y);","      ctx.stroke();","      ctx.beginPath();","      ctx.moveTo(x, y);","      ","      [lastX, lastY] = [x, y];","    }","    ","    function stopDrawing() {","      if (isDrawing) {","        isDrawing = false;","        ctx.beginPath();","        saveState();","        updateStatus('Stroke added');","      }","    }","    ","    function getPos(e) {","      const rect = canvas.getBoundingClientRect();","      const x = (e.clientX || e.touches[0].clientX) - rect.left;","      const y = (e.clientY || e.touches[0].clientY) - rect.top;","      return [x, y];","    }","    ","    // Event listeners - mouse","    canvas.addEventListener('mousedown', startDrawing);","    canvas.addEventListener('mousemove', draw);","    canvas.addEventListener('mouseup', stopDrawing);","    canvas.addEventListener('mouseout', stopDrawing);","    ","    // Event listeners - touch","    canvas.addEventListener('touchstart', (e) => {","      e.preventDefault();","      startDrawing(e);","    });","    canvas.addEventListener('touchmove', (e) => {","      e.preventDefault();","      draw(e);","    });","    canvas.addEventListener('touchend', stopDrawing);","    ","    // Color selection","    document.querySelectorAll('.color-btn').forEach(btn => {","      btn.addEventListener('click', () => {","        document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));","        btn.classList.add('active');","        currentColor = btn.dataset.color;","        updateStatus(`Color: ${currentColor}`);","      });","    });","    ","    document.getElementById('customColor').addEventListener('input', (e) => {","      document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));","      currentColor = e.target.value;","      updateStatus(`Custom color: ${currentColor}`);","    });","    ","    // Brush size","    const brushSizeInput = document.getElementById('brushSize');","    const sizeValue = document.getElementById('sizeValue');","    const sizeDot = document.getElementById('sizeDot');","    ","    function updateSizePreview() {","      brushSize = parseInt(brushSizeInput.value);","      sizeValue.textContent = brushSize;","      sizeDot.style.width = brushSize + 'px';","      sizeDot.style.height = brushSize + 'px';","    }","    ","    brushSizeInput.addEventListener('input', updateSizePreview);","    updateSizePreview();","    ","    // Tool modes","    document.querySelectorAll('.mode-btn').forEach(btn => {","      btn.addEventListener('click', () => {","        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));","        btn.classList.add('active');","        mode = btn.dataset.mode;","        canvas.style.cursor = mode === 'erase' ? 'cell' : 'crosshair';","        updateStatus(`Mode: ${mode}`);","      });","    });","    ","    // Undo","    document.getElementById('undoBtn').addEventListener('click', () => {","      if (history.length > 1) {","        history.pop();","        const img = new Image();","        img.onload = () => {","          ctx.clearRect(0, 0, canvas.width, canvas.height);","          ctx.drawImage(img, 0, 0);","          updateStatus('Undo successful');","        };","        img.src = history[history.length - 1];","      } else {","        updateStatus('Nothing to undo');","      }","    });","    ","    // Clear","    document.getElementById('clearBtn').addEventListener('click', () => {","      ctx.fillStyle = '#ffffff';","      ctx.fillRect(0, 0, canvas.width, canvas.height);","      saveState();","      updateStatus('Canvas cleared');","    });","    ","    // Download","    document.getElementById('downloadBtn').addEventListener('click', () => {","      const link = document.createElement('a');","      link.download = 'drawing.png';","      link.href = canvas.toDataURL('image/png');","      link.click();","      updateStatus('Image saved!');","    });","    ","    function updateStatus(msg) {","      status.textContent = msg;","    }","  </script>","</body>","</html>",""]}