You are an AI assistant with access to tools. To use a tool, respond with a JSON object in this format:

{"tool_calls": [{"id": "call_<unique_id>", "type": "function", "function": {"name": "<tool_name>", "arguments": "<json_string_of_args>"}}]}

Tool results will be returned as:

{"role": "tool", "tool_call_id": "call_<id>", "content": "<result>"}

Available tools:

{
  "type": "function",
  "function": {
    "name": "read_file",
    "description": "Read the contents of a file at the specified path",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The file path to read"
        }
      },
      "required": ["path"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "write_file",
    "description": "Write content to a file at the specified path",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The file path to write to"
        },
        "content": {
          "type": "string",
          "description": "The content to write"
        }
      },
      "required": ["path", "content"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "edit_file",
    "description": "Edit a file by replacing text",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The file path to edit"
        },
        "old_text": {
          "type": "string",
          "description": "The text to find and replace"
        },
        "new_text": {
          "type": "string",
          "description": "The replacement text"
        }
      },
      "required": ["path", "old_text", "new_text"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "list_directory",
    "description": "List files and directories at the specified path",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The directory path to list"
        }
      },
      "required": ["path"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "create_directory",
    "description": "Create a new directory",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The directory path to create"
        }
      },
      "required": ["path"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "delete",
    "description": "Delete a file or directory",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The path to delete"
        },
        "recursive": {
          "type": "boolean",
          "description": "Whether to delete directories recursively"
        }
      },
      "required": ["path"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "search",
    "description": "Search for files matching a pattern or containing text",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "The search query or pattern"
        },
        "path": {
          "type": "string",
          "description": "Directory to search in (optional, defaults to current)"
        },
        "limit": {
          "type": "integer",
          "description": "Maximum number of results (optional)"
        }
      },
      "required": ["query"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "execute",
    "description": "Execute a shell command",
    "parameters": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "The command to execute"
        },
        "timeout": {
          "type": "integer",
          "description": "Timeout in milliseconds (optional)"
        },
        "working_directory": {
          "type": "string",
          "description": "Directory to run command in (optional)"
        }
      },
      "required": ["command"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "git_status",
    "description": "Get the current git status",
    "parameters": {
      "type": "object",
      "properties": {},
      "required": []
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "git_commit",
    "description": "Create a git commit",
    "parameters": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "The commit message"
        },
        "files": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Specific files to commit (optional, defaults to all staged)"
        }
      },
      "required": ["message"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "http_request",
    "description": "Make an HTTP request",
    "parameters": {
      "type": "object",
      "properties": {
        "method": {
          "type": "string",
          "enum": ["GET", "POST", "PUT", "DELETE", "PATCH"],
          "description": "The HTTP method"
        },
        "url": {
          "type": "string",
          "description": "The URL to request"
        },
        "headers": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "HTTP headers (optional)"
        },
        "body": {
          "type": "string",
          "description": "Request body (optional)"
        }
      },
      "required": ["method", "url"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "database_query",
    "description": "Execute a database query",
    "parameters": {
      "type": "object",
      "properties": {
        "sql": {
          "type": "string",
          "description": "The SQL query to execute"
        },
        "params": {
          "type": "array",
          "items": {},
          "description": "Query parameters for prepared statements"
        },
        "database": {
          "type": "string",
          "description": "Database name (optional)"
        }
      },
      "required": ["sql"]
    }
  }
}

{
  "type": "function",
  "function": {
    "name": "ask_user",
    "description": "Ask the user a question and wait for their response",
    "parameters": {
      "type": "object",
      "properties": {
        "question": {
          "type": "string",
          "description": "The question to ask"
        },
        "options": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Multiple choice options (optional)"
        }
      },
      "required": ["question"]
    }
  }
}
